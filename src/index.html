<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>Stencil Component Starter</title>

    <script type="module" src="/build/pwc-ibox.esm.js"></script>
    <script nomodule src="/build/pwc-ibox.js"></script>

    <script>
      function restoreIbox() {
        document.querySelector("pwc-ibox").closed = false;
      }
    </script>
  </head>

  <body style="background-color: grey;">
    <pwc-ibox>
      <pwc-ibox-title>
        <h5>Title</h5>
        <pwc-ibox-tools minimize-button close-button>
          Tools
        </pwc-ibox-tools>
      </pwc-ibox-title>
      <pwc-ibox-content>Content</pwc-ibox-content>
      <pwc-ibox-footer>Footer</pwc-ibox-footer>
    </pwc-ibox>

    <button onclick="restoreIbox()">Restore Ibox</button>
  </body>

  <script>
    // Single Ibox
    const pwcIbox = document.querySelector("pwc-ibox");

    // Listen for pwcIboxTools_minimizeClicked
    pwcIbox.addEventListener("pwcIboxTools_minimizeClicked", event => {
      console.log("(single) pwcIboxTools_minimizeClicked raised");
    });

    // Listen for pwcIboxTools_closeClicked
    pwcIbox.addEventListener("pwcIboxTools_closeClicked", event => {
      console.log("(single) pwcIboxTools_closeClicked raised", event.detail);
    });

    // Multiple Iboxes
    const pwcIboxes = document.querySelectorAll("pwc-ibox");
    pwcIboxes.forEach(elem => {
      // Listen for pwcIboxTools_minimizeClicked
      elem.addEventListener("pwcIboxTools_minimizeClicked", event => {
        console.log("(multiple) pwcIboxTools_minimizeClicked raised");
      });

      // Listen for pwcIboxTools_closeClicked
      elem.addEventListener("pwcIboxTools_closeClicked", event => {
        console.log(
          "(multiple) pwcIboxTools_closeClicked raised",
          event.detail
        );
      });
    });
  </script>
</html>
